<%= render :partial => '/will_filter/filter/conditions_header', :locals => {:wf_filter => wf_filter} %>
<div class="body">
  <% if wf_filter.errors[:filter] %>
    <div class="alert alert-error">
      <%= wf_filter.errors[:filter] %>
    </div>
  <% end %>

  <div class="clearfix">
    <label style="display: inline-block; float: none;">Match</label>
    <%= select_tag(:wf_match, options_for_select(wf_filter.match_options, wf_filter.match), {:onChange=>"wfFilter.markDirty()"}) %>
  </div>

  <div class="clearfix">&nbsp;</div>
  <% if wf_filter.size == 0 %>
    <div class="alert alert-info">
      You haven't added any filter conditions, so all of the results were returned.
      Use the "Add" button in the bottom right corner to add a new condition or select
      a predefined filter from a drop-down list above.
    </div>
  <% else %>
    <div class="table clearfix">
      <% 0.upto(wf_filter.size-1) do |index| %>
        <% condition = wf_filter.condition_at(index) %>
        <%= render :partial => "/will_filter/filter/condition", :locals => {:wf_filter => wf_filter, :condition => condition, :index => index}%>
      <% end %>
    </div>
  <% end %>

  <div id="wf_debugger" class="debugger" style="display:none;">
      <%= raw(wf_filter.debug_sql_conditions) %>
  </div>

</div>
